<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition 
    template="shared/_layout_application.xhtml"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"
    xmlns:f="http://xmlns.jcp.org/jsf/core">
        
    <ui:define name="body">
        
        <div class="animated fadeInLeft delay-006">

            <h3>Gestion des étudiants</h3>

        </div>

        <div class="animated zoomIn delay-006">
              
            <h:form id="form">
                    
                <!-- 
                <p:growl id="growl" life="5000" />
                -->

                <p:tabMenu activeIndex="1">
                    <p:menuitem value="Acceuil"         outcome="etudiantVersAcceuil" icon="ui-icon-star"></p:menuitem>
                    <p:menuitem value="Etudiants"       icon="ui-icon-search"></p:menuitem>
                    <p:menuitem value="Examens"         outcome="etudiantVersExamen" icon="ui-icon-document"></p:menuitem>
                    <p:menuitem value="Questionnaires"  outcome="etudiantVersQuestionnaire" icon="ui-icon-wrench"></p:menuitem>
                    <p:menuitem value="Evaluer"         outcome="etudiantVersEvaluation" icon="ui-icon-person"></p:menuitem>
                </p:tabMenu>
                
                <div class="pt-2"></div>
                
                <p:panelGrid columns="4" styleClass="width: 100%;">
                    <p:outputLabel for="champ" value="Rechercher par :" />
                    <p:selectOneMenu id="champ" value="#{etudiantBean.rechercher_champ}" styleClass="width:100%">
                        <f:selectItem itemLabel="Toutes les données"    itemValue="*" />
                        <f:selectItem itemLabel="Compte"                itemValue="code" />
                        <f:selectItem itemLabel="Mot de passe"          itemValue="mot_de_passe" />
                        <f:selectItem itemLabel="Nom"                   itemValue="libelle" />
                        <f:selectItem itemLabel="Prenom"                itemValue="prenom" />
                        <f:selectItem itemLabel="Email"                 itemValue="email" />
                        <f:selectItem itemLabel="Sexe"                  itemValue="est_masculin" />
                    </p:selectOneMenu>
                    <p:inputText id="terme_a_rechercher" value="#{etudiantBean.rechercher_valeur}" title="Entre une expression à rechercher" />
                    <p:commandButton id="btn_rechercher" action="#{etudiantBean.rechercher_methode}" value="Rechercher" update="donnee_table" />
                </p:panelGrid>
                
                <div class="pt-2"></div>
                
                <p:dataTable id="donnee_table" var="val" 
                             value="#{etudiantBean.listeDonnee}" selection="#{etudiantBean.selectionDonnee}" 
                             rowKey="#{etudiantBean.selectionDonnee}" 
                             tableStyle="table-layour:auto">
                    
                    <f:facet name="header">
                        Afficher les enregistrements
                    </f:facet>
                    
                    <p:column selectionMode="single" style="width: 32px; text-align: center;"></p:column>
                    <p:column headerText="Id">
                        <h:outputText value="#{val.id}" />
                    </p:column>
                    <p:column headerText="Compte">
                        <h:outputText value="#{val.code}" />
                    </p:column>
                    <p:column headerText="Mot de passe">
                        <h:outputText value="#{val.motdepasse}" />
                    </p:column>
                    <p:column headerText="Nom">
                        <h:outputText value="#{val.libelle}" />
                    </p:column>
                    <p:column headerText="Prenom">
                        <h:outputText value="#{val.prenom}" />
                    </p:column>
                    <p:column headerText="Email">
                        <h:outputText value="#{val.email}" />
                    </p:column>
                    <p:column headerText="Sexe">
                        <h:outputText value="#{val.sexe}" />
                    </p:column>
                    <p:column headerText="Action">
                        <p:commandButton value="Modifier" action="#{etudiantBean.modifierDonnee(val.id)}" update="" />
                        <p:commandButton value="Supprimer" action="#{etudiantBean.supprimerDonnee(val.id)}" update="" />
                    </p:column>
                    
                    <f:facet name="footer">
                        Vous avez #{etudiantBean.listeDonnee.size()} enregistrements obtenus sur #{etudiantBean.total}
                    </f:facet>
                    
                </p:dataTable>
                

            </h:form>
            
        </div>
        
    </ui:define>
    
</ui:composition>